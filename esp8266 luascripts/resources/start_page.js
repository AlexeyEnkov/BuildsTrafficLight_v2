function LTR(t,e){this.ids=t,this.renderIds(t,e.cfg.ignoredIds),this.fillForm(e.cfg),this.setUpInf(e);var n=this;d.getElementById("save").onclick=function(){n.save()}}var hostName="",d=document;LTR.prototype={renderIds:function(t,e){for(var n=d.getElementById("idscont"),i=0;i<t.length;i++){var s=e&&-1!=e.indexOf(t[i]),o=d.createElement("label");o.innerHTML="<div>"+t[i]+"</div><input name="+t[i]+" type='checkbox' "+(s?"checked='y'":"")+"/>",o.title=t[i],n.appendChild(o)}},getIn:function(t){return d.querySelector("input[name='"+t+"']")},fillIn:function(t,e){var n=this.getIn(t);n&&(n.value=e)},fillForm:function(t){this.fillIn("ssid",t.ssid),this.fillIn("ip",t.ip),this.fillIn("port",t.port),t.bright&&(this.fillIn("red",t.bright.r),this.fillIn("yellow",t.bright.y),this.fillIn("green",t.bright.g)),d.querySelector("input[name='sound']").checked=t.sound},getCfg:function(){var t={};t.ssid=this.getIn("ssid").value,t.pass=this.getIn("pass").value,t.ip=this.getIn("ip").value,t.port=this.getIn("port").value,t.sound=this.getIn("sound").checked,t.bright={},t.bright.r=this.getIn("red").value,t.bright.y=this.getIn("yellow").value,t.bright.g=this.getIn("green").value,t.ignoredIds=[];for(var e=0;e<this.ids.length;e++){var n=this.ids[e];this.getIn(n).checked&&t.ignoredIds.push(n)}return t},save:function(){fetch(hostName+"/settings",{method:"POST",body:JSON.stringify(this.getCfg())}).then(function(t){return console.log(t.status),t.json()}).then(function(t){console.log(t)})},setUpInf:function(t){d.getElementById("ip").textContent="Wifi: "+(t.ownIp?"connected. Local ip: "+t.ownIp:"not connected.");var e=d.getElementById("r"),n=d.getElementById("y"),i=d.getElementById("g");switch(t.status){case"SUCC":i.className="act";break;case"RUN":e.className="act",n.className="act";break;case"FAIL":e.className="act",d.getElementById("cid").textContent="Failed build: "+t.targetId}}},window.onload=function(){fetch(hostName+"/settings").then(function(t){return console.log(t.status),t.json()}).then(function(t){console.log(t),new LTR(t.IDS,t.rawData)})};